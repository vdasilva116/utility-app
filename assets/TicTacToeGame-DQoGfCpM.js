import{a as k}from"./QBtn-DW49BdE9.js";import{Q as p,a as w}from"./QItem-ImSksY7L.js";import{Q as O}from"./QList-Dn61JfwO.js";import{Q as B}from"./QPage-4aB-4sV1.js";import{t as S,r as m,o as D,y as I,z as r,u as b,A as f,D as c,J as y,C as A,B as l,E as _,I as i,K as G,L as M,_ as N}from"./index-BwSv7cGb.js";import"./render-DxpCd_na.js";import"./use-dark-CUTMrp-q.js";const V={class:"col-8"},L={class:"q-gutter-sm q-mb-md"},E={class:"tictactoe-grid"},P=["onClick"],R={key:0,class:"q-mt-md text-h6 text-positive"},$={class:"col-4"},z=S({__name:"TicTacToeGame",setup(F){const o=m(Array(9).fill(null)),d=m("X"),s=m(null),a=m({X:0,O:0,draw:0});function q(t){o.value[t]!==null||s.value||(o.value[t]=d.value,x(),s.value||(d.value=d.value==="X"?"O":"X"))}function x(){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[e,n,v]of t){const u=o.value[e],C=o.value[n],Q=o.value[v];if(u&&u===C&&u===Q){s.value=u,a.value[u]++,g();return}}o.value.every(e=>e!==null)&&(s.value="Draw",a.value.draw++,g())}function T(){o.value=Array(9).fill(null),d.value="X",s.value=null}async function X(){a.value={X:0,O:0,draw:0},await b.from("scores_tictactoe").delete().neq("id","")}async function h(){const{data:t,error:e}=await b.from("scores_tictactoe").select("*").order("created_at",{ascending:!1}).limit(1);if(!e&&t&&t.length>0){const n=t[0];a.value={X:n.x,O:n.o,draw:n.draw}}}async function g(){await b.from("scores_tictactoe").insert([{x:a.value.X,o:a.value.O,draw:a.value.draw}])}return D(()=>{h()}),(t,e)=>(f(),I(B,{class:"q-pa-md row q-col-gutter-xl"},{default:r(()=>[c("div",V,[e[1]||(e[1]=c("div",{class:"text-h5 q-mb-md"},"❌⭕ Tic Tac Toe",-1)),c("div",L,[e[0]||(e[0]=_(" Au tour de : ")),c("strong",null,i(d.value),1)]),c("div",E,[(f(!0),y(M,null,G(o.value,(n,v)=>(f(),y("div",{key:v,class:"cell",onClick:u=>q(v)},i(n),9,P))),128))]),s.value?(f(),y("div",R,i(s.value==="Draw"?"Match nul !":`Gagnant : ${s.value}`),1)):A("",!0),l(k,{label:"Recommencer",color:"primary",class:"q-mt-md",onClick:T})]),c("div",$,[e[2]||(e[2]=c("div",{class:"text-h6 q-mb-sm"},"🏆 Score",-1)),l(O,{bordered:"",separator:""},{default:r(()=>[l(p,null,{default:r(()=>[l(w,null,{default:r(()=>[_("❌ X : "+i(a.value.X),1)]),_:1})]),_:1}),l(p,null,{default:r(()=>[l(w,null,{default:r(()=>[_("⭕ O : "+i(a.value.O),1)]),_:1})]),_:1}),l(p,null,{default:r(()=>[l(w,null,{default:r(()=>[_("Matchs nuls : "+i(a.value.draw),1)]),_:1})]),_:1})]),_:1}),l(k,{label:"Réinitialiser le score",color:"negative",class:"q-mt-md",onClick:X,flat:""})])]),_:1}))}}),Z=N(z,[["__scopeId","data-v-245bfe23"]]);export{Z as default};
