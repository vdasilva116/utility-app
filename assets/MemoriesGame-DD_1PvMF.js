import{Q as h}from"./QBtn-DsvvR9OZ.js";import{Q as J}from"./QInput-DrdT4DZF.js";import{Q as D,a as B}from"./QItem-C7m-ZyoV.js";import{Q as F}from"./QList-hjHv5Mac.js";import{Q as L}from"./QPage-bXdzJylz.js";import{t as O,r as s,a as j,o as E,b as R,u as I,v,x as d,G as u,F as b,O as U,y as n,H as m,J as M,I as x,B as S,_ as A}from"./index-Bav5nf7W.js";import"./dom-DD5FS-_1.js";import"./render-BnZkIQOO.js";import"./use-key-composition-BXqQiCfi.js";import"./use-dark-JgITWQMA.js";const H={class:"column items-center col-8"},P={class:"row items-center justify-between full-width q-mb-sm"},$={class:"text-caption q-mb-md"},z={class:"row q-gutter-sm",style:{"max-width":"400px"}},K={class:"text-h4"},W={key:0,class:"q-mt-lg text-positive"},X={class:"col-4 q-ml-md"},Y=O({__name:"MemoriesGame",setup(Z){const k=["🐶","🐱","🦊","🐻","🐼","🐸","🐵","🐔","🐷","🐮","🐯","🦁"],f=s([]),c=s([]),l=s([]),y=s(0),C=s(0),p=s(0),i=s(null),g=s(!1),_=s(""),o=s([]),Q=j(()=>c.value.every(a=>a));function N(){return[...k,...k].sort(()=>.5-Math.random())}function q(){f.value=N(),c.value=Array(f.value.length).fill(!1),l.value=[],y.value=0,p.value=0,g.value=!1,C.value=Date.now(),i.value&&clearInterval(i.value),i.value=setInterval(()=>{p.value=Math.floor((Date.now()-C.value)/1e3)},1e3)}function V(a){if(!(l.value.length>=2||l.value.includes(a))){if(l.value.push(a),l.value.length===2){y.value++;const[e,t]=l.value;e!==void 0&&t!==void 0&&f.value[e]===f.value[t]?(c.value[e]=!0,c.value[t]=!0,l.value=[]):setTimeout(()=>{l.value=[]},800)}Q.value&&!g.value&&(g.value=!0,clearInterval(i.value))}}function w(){_.value="",q()}function T(){_.value.trim()&&(o.value.push({name:_.value.trim(),moves:y.value,time:p.value}),o.value.sort((a,e)=>a.moves-e.moves||a.time-e.time),o.value=o.value.slice(0,5),localStorage.setItem("memoryScores",JSON.stringify(o.value)),w())}function G(){o.value=[],localStorage.removeItem("memoryScores")}return E(()=>{const a=localStorage.getItem("memoryScores");a&&(o.value=JSON.parse(a)),q()}),R(()=>{i.value&&clearInterval(i.value)}),(a,e)=>(d(),I(L,{class:"q-pa-md row justify-center"},{default:v(()=>[u("div",H,[u("div",P,[e[1]||(e[1]=u("div",{class:"text-h5"},"🧠 Jeu de Memory",-1)),n(h,{label:"Relancer",color:"secondary",onClick:w})]),u("div",$,"Temps : "+m(p.value)+"s",1),u("div",z,[(d(!0),b(x,null,M(f.value,(t,r)=>(d(),I(h,{key:r,class:"memory-card",onClick:ee=>V(r),disable:c.value[r]||l.value.includes(r)},{default:v(()=>[u("span",K,m(c.value[r]||l.value.includes(r)?t:"❓"),1)]),_:2},1032,["onClick","disable"]))),128))]),Q.value?(d(),b("div",W,[S(" 🎉 Bravo ! Tu as tout trouvé en "+m(y.value)+" coups et "+m(p.value)+"s ! ",1),n(J,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),label:"Ton nom",class:"q-mt-md",outlined:"",dense:""},null,8,["modelValue"]),n(h,{label:"Enregistrer",color:"primary",class:"q-mt-sm",onClick:T})])):U("",!0)]),u("div",X,[e[2]||(e[2]=u("div",{class:"text-h6"},"🏆 Meilleurs scores",-1)),n(F,{bordered:"",separator:"",class:"q-mt-sm"},{default:v(()=>[(d(!0),b(x,null,M(o.value,(t,r)=>(d(),I(D,{key:r},{default:v(()=>[n(B,null,{default:v(()=>[S(m(t.name),1)]),_:2},1024),n(B,null,{default:v(()=>[S(m(t.moves)+" coups - "+m(t.time)+"s",1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(h,{flat:"",label:"Reset scores",color:"negative",class:"q-mt-sm",onClick:G})])]),_:1}))}}),ie=A(Y,[["__scopeId","data-v-a94426db"]]);export{ie as default};
