import{Q as H}from"./QInput-DrdT4DZF.js";import{v as fe,a as G,u as A,b as pe,p as X,c as ye,d as Se,e as we,f as xe,g as De,r as Z,s as be,h as Te,Q as _e}from"./QSelect-CpzoLSD-.js";import{Q as L}from"./QBtn-DsvvR9OZ.js";import{Q as ke}from"./dom-DD5FS-_1.js";import{c as se,g as ie,r as k,a as h,w as E,b as ee,K as te,L as ae,h as F,T as Me,M as Ce,t as Oe,u as Pe,v as oe,x as g,G as T,y as p,N as qe,H as _,F as y,I as q,J as U,O as R,B as ne,_ as Ee}from"./index-Bav5nf7W.js";import{u as Ie,s as Ve,a as Ne,b as $e,c as Qe,k as le,g as Be}from"./format-CjicFLgh.js";import{h as He}from"./render-BnZkIQOO.js";import{u as Ae,a as Le}from"./use-dark-JgITWQMA.js";import{Q as Ue}from"./QPage-bXdzJylz.js";import"./use-key-composition-BXqQiCfi.js";import"./QItem-C7m-ZyoV.js";const Re=se({name:"QTooltip",inheritAttrs:!1,props:{...pe,...Ne,...A,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...A.transitionShow,default:"jump-down"},transitionHide:{...A.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:G},self:{type:String,default:"top middle",validator:G},offset:{type:Array,default:()=>[14,14],validator:fe},scrollTarget:Ve,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ie],setup(e,{slots:i,emit:f,attrs:m}){let u,v;const x=ie(),{proxy:{$q:n}}=x,d=k(null),S=k(!1),D=h(()=>X(e.anchor,n.lang.rtl)),I=h(()=>X(e.self,n.lang.rtl)),V=h(()=>e.persistent!==!0),{registerTick:O,removeTick:P}=ye(),{registerTimeout:M}=$e(),{transitionProps:N,transitionStyle:$}=Se(e),{localScrollTarget:t,changeScrollEvent:o,unconfigureScrollTarget:a}=we(e,W),{anchorEl:l,canShow:s,anchorEvents:w}=xe({showing:S,configureAnchorEl:ve}),{show:Q,hide:r}=Qe({showing:S,canShow:s,handleShow:ce,handleHide:ue,hideOnRouteChange:V,processOnMount:!0});Object.assign(w,{delayShow:de,delayHide:me});const{showPortal:J,hidePortal:j,renderPortal:re}=De(x,d,ge,"tooltip");if(n.platform.is.mobile===!0){const c={anchorEl:l,innerRef:d,onClickOutside(b){return r(b),b.target.classList.contains("q-dialog__backdrop")&&Ce(b),!0}},B=h(()=>e.modelValue===null&&e.persistent!==!0&&S.value===!0);E(B,b=>{(b===!0?Te:Z)(c)}),ee(()=>{Z(c)})}function ce(c){J(),O(()=>{v=new MutationObserver(()=>C()),v.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),C(),W()}),u===void 0&&(u=E(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,C)),M(()=>{J(!0),f("show",c)},e.transitionDuration)}function ue(c){P(),j(),K(),M(()=>{j(!0),f("hide",c)},e.transitionDuration)}function K(){v!==void 0&&(v.disconnect(),v=void 0),u!==void 0&&(u(),u=void 0),a(),te(w,"tooltipTemp")}function C(){be({targetEl:d.value,offset:e.offset,anchorEl:l.value,anchorOrigin:D.value,selfOrigin:I.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function de(c){if(n.platform.is.mobile===!0){le(),document.body.classList.add("non-selectable");const B=l.value,b=["touchmove","touchcancel","touchend","click"].map(Y=>[B,Y,"delayHide","passiveCapture"]);ae(w,"tooltipTemp",b)}M(()=>{Q(c)},e.delay)}function me(c){n.platform.is.mobile===!0&&(te(w,"tooltipTemp"),le(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),M(()=>{r(c)},e.hideDelay)}function ve(){if(e.noParentEvent===!0||l.value===null)return;const c=n.platform.is.mobile===!0?[[l.value,"touchstart","delayShow","passive"]]:[[l.value,"mouseenter","delayShow","passive"],[l.value,"mouseleave","delayHide","passive"]];ae(w,"anchor",c)}function W(){if(l.value!==null||e.scrollTarget!==void 0){t.value=Be(l.value,e.scrollTarget);const c=e.noParentEvent===!0?C:r;o(t.value,c)}}function he(){return S.value===!0?F("div",{...m,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",m.class],style:[m.style,$.value],role:"tooltip"},He(i.default)):null}function ge(){return F(Me,N.value,he)}return ee(K),Object.assign(x.proxy,{updatePosition:C}),re}}),ze={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},z={xs:2,sm:4,md:8,lg:16,xl:24},Fe=se({name:"QSeparator",props:{...Ae,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const i=ie(),f=Le(e,i.proxy.$q),m=h(()=>e.vertical===!0?"vertical":"horizontal"),u=h(()=>` q-separator--${m.value}`),v=h(()=>e.inset!==!1?`${u.value}-${ze[e.inset]}`:""),x=h(()=>`q-separator${u.value}${v.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(f.value===!0?" q-separator--dark":"")),n=h(()=>{const d={};if(e.size!==void 0&&(d[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const S=e.spaced===!0?`${z.md}px`:e.spaced in z?`${z[e.spaced]}px`:e.spaced,D=e.vertical===!0?["Left","Right"]:["Top","Bottom"];d[`margin${D[0]}`]=d[`margin${D[1]}`]=S}return d});return()=>F("hr",{class:x.value,style:n.value,"aria-orientation":m.value})}}),Je={class:"row q-mb-sm q-gutter-sm items-center"},je={class:"row items-center q-mb-md justify-between"},Ke={class:"text-h6"},We={class:"row text-center bg-grey-3"},Ye={class:"row wrap"},Ge={class:"text-caption text-grey"},Xe={key:0},Ze={key:0,class:"text-subtitle2 text-primary q-mb-xs"},et={key:0},tt={key:1},at=Oe({__name:"MealCalendar",setup(e){const i=k(new Date),f=k(JSON.parse(localStorage.getItem("meals")||"{}")),m=k(JSON.parse(localStorage.getItem("tasks")||"[]")),u=k(""),v=k(""),x=["LUNDI","MARDI","MERCREDI","JEUDI","VENDREDI","SAMEDI","DIMANCHE"];E(f,t=>{localStorage.setItem("meals",JSON.stringify(t))},{deep:!0}),E(m,t=>{localStorage.setItem("tasks",JSON.stringify(t))},{deep:!0});function n(t){return t.toISOString().split("T")[0]??""}function d(t){return m.value.filter(o=>o.date===t)}function S(t,o,a){const l=f.value[t]??{lunch:"",dinner:""};l[o]=a,f.value[t]=l}function D(){const t=u.value.trim(),o=v.value;if(!t||!o)return;const a=Date.now();m.value.push({id:a,date:o,content:t}),u.value="",v.value=""}function I(t){m.value=m.value.filter(o=>o.id!==t)}function V(){const t=i.value.getFullYear(),o=i.value.getMonth(),a=new Date(t,o,1),l=new Date(t,o+1,0),s=[],w=(a.getDay()+6)%7;for(let r=w;r>0;r--)s.push(new Date(t,o,1-r));for(let r=1;r<=l.getDate();r++)s.push(new Date(t,o,r));const Q=(7-s.length%7)%7;for(let r=1;r<=Q;r++)s.push(new Date(t,o+1,r));return s}const O=h(()=>V()),P=h(()=>i.value.toLocaleDateString("fr-FR",{month:"long"})),M=h(()=>O.value.filter(t=>t.getMonth()===i.value.getMonth()).map(t=>({label:`${t.getDate()} ${P.value}`,value:n(t)})));function N(){i.value=new Date(i.value.getFullYear(),i.value.getMonth()+1,1)}function $(){i.value=new Date(i.value.getFullYear(),i.value.getMonth()-1,1)}return(t,o)=>(g(),Pe(Ue,{class:"q-pa-md"},{default:oe(()=>[T("div",Je,[p(H,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a),label:"TÃ¢che",dense:"",outlined:"",class:"col",onKeyup:qe(D,["enter"])},null,8,["modelValue"]),p(_e,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=a=>v.value=a),options:M.value,label:"Jour",dense:"",outlined:"",class:"col","map-options":"","emit-value":""},null,8,["modelValue","options"]),p(L,{label:"Ajouter",dense:"",color:"primary",onClick:D,class:"q-pa-sm"})]),T("div",je,[p(L,{icon:"chevron_left",onClick:$,flat:""}),T("div",Ke,_(P.value)+" "+_(i.value.getFullYear()),1),p(L,{icon:"chevron_right",onClick:N,flat:""})]),T("div",We,[(g(),y(q,null,U(x,(a,l)=>T("div",{key:l,class:"col text-bold"},_(a),1)),64))]),T("div",Ye,[(g(!0),y(q,null,U(O.value,(a,l)=>(g(),y("div",{key:l,class:"meal-cell col-xs-12 col-sm-1 col-md-1 q-pa-sm",style:{"min-height":"190px",border:"1px solid #ccc",overflow:"hidden"}},[T("div",Ge,[a.getMonth()===i.value.getMonth()?(g(),y("span",Xe,_(a.getDate()),1)):R("",!0)]),d(n(a)).length?(g(),y("div",Ze,[(g(!0),y(q,null,U(d(n(a)),s=>(g(),y("div",{key:s.id,class:"ellipsis row items-center no-wrap",style:{"font-size":"12px"}},[p(ke,{name:"remove_circle",size:"16px",color:"negative",class:"q-mr-xs cursor-pointer",onClick:w=>I(s.id)},null,8,["onClick"]),s.content.length>20?(g(),y("span",et,[p(Re,{anchor:"top middle"},{default:oe(()=>[ne(_(s.content),1)]),_:2},1024),ne(" - "+_(s.content),1)])):(g(),y("span",tt,"- "+_(s.content),1))]))),128))])):R("",!0),a.getMonth()===i.value.getMonth()?(g(),y(q,{key:1},[p(H,{type:"textarea",autogrow:"",dense:"",filled:"","model-value":f.value[n(a)]?.lunch??"","onUpdate:modelValue":s=>S(n(a),"lunch",String(s??"")),placeholder:"Midi",class:"q-mt-xs"},null,8,["model-value","onUpdate:modelValue"]),p(Fe,{color:"grey-4",class:"q-my-xs"}),p(H,{type:"textarea",autogrow:"",dense:"",filled:"","model-value":f.value[n(a)]?.dinner??"","onUpdate:modelValue":s=>S(n(a),"dinner",String(s??"")),placeholder:"Soir",class:"q-mt-xs"},null,8,["model-value","onUpdate:modelValue"])],64)):R("",!0)]))),128))])]),_:1}))}}),ht=Ee(at,[["__scopeId","data-v-5b004d55"]]);export{ht as default};
