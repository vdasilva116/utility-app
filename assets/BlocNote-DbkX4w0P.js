import{Q as l}from"./QBtn-DKLCg6f7.js";import{Q as f}from"./QInput-Cf17zoy7.js";import{Q as v}from"./QPage-Cyj_wye0.js";import{t as _,A as g,r as c,o as x,u as y,v as N,x as I,y as n,D as S,_ as k}from"./index-De15wrRx.js";import"./dom-CWUWeCtZ.js";import"./render-0Abd-KGh.js";import"./use-key-composition-Cf6ffK-U.js";import"./use-dark-BnlytlHe.js";const B=_({__name:"BlocNote",setup(C){const u=g(),s=S(),o=parseInt(u.params.index),a=c(""),e=c([]);x(()=>{const r=localStorage.getItem("notes");try{const t=JSON.parse(r||"[]");Array.isArray(t)&&(e.value=t,a.value=t[o]?.content||"")}catch{e.value=[]}});function i(){e.value[o]&&(e.value[o].content=a.value,localStorage.setItem("notes",JSON.stringify(e.value)))}function p(){e.value.splice(o,1),localStorage.setItem("notes",JSON.stringify(e.value)),s.push("/listnote")}function m(){s.push("/listnote")}return(r,t)=>(I(),y(v,{class:"q-pa-md"},{default:N(()=>[n(l,{flat:"",dense:"",icon:"arrow_back",label:"Retour",onClick:m,class:"q-mb-md"}),n(f,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),filled:"",type:"textarea",autogrow:"",placeholder:"Commence à écrire ta note...",onKeyup:i},null,8,["modelValue"]),n(l,{color:"negative",label:"Supprimer la note",flat:"",class:"q-mt-md",onClick:p})]),_:1}))}}),O=k(B,[["__scopeId","data-v-2962f188"]]);export{O as default};
