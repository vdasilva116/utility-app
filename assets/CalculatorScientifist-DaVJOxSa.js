import{a as QBtn}from"./QBtn-BFVJIbQr.js";import{Q as QPage}from"./QPage-DTaGXjfD.js";import{t as defineComponent,r as ref,o as onMounted,s as onUnmounted,y as createBlock,z as withCtx,A as openBlock,D as createBaseVNode,I as toDisplayString,J as createElementBlock,K as renderList,L as Fragment,B as createVNode,_ as _export_sfc}from"./index-BfLcs9a9.js";import"./render-Ck4TSlS7.js";const _hoisted_1={class:"calculator shadow-2 rounded-borders q-pa-md bg-white"},_hoisted_2={class:"display q-mb-sm"},_hoisted_3={class:"grid"},_sfc_main=defineComponent({__name:"CalculatorScientifist",setup(__props){const input=ref(""),buttons=[{label:"(",color:"secondary"},{label:")",color:"secondary"},{label:"C",color:"negative"},{label:"/",color:"secondary"},{label:"7",color:"primary"},{label:"8",color:"primary"},{label:"9",color:"primary"},{label:"*",color:"secondary"},{label:"4",color:"primary"},{label:"5",color:"primary"},{label:"6",color:"primary"},{label:"-",color:"secondary"},{label:"1",color:"primary"},{label:"2",color:"primary"},{label:"3",color:"primary"},{label:"+",color:"secondary"},{label:"0",color:"primary"},{label:".",color:"primary"},{label:"=",color:"positive"},{label:"√",color:"secondary"},{label:"^",color:"secondary"},{label:"π",color:"secondary"},{label:"sin",color:"secondary"},{label:"cos",color:"secondary"},{label:"tan",color:"secondary"},{label:"log",color:"secondary"}];function press(val){if(val==="C")input.value="";else if(val==="=")try{const expr=input.value.replace(/π/g,Math.PI.toString()).replace(/√\(?(.+?)\)?/g,(e,l)=>`Math.sqrt(${l})`).replace(/sin\(?(.+?)\)?/g,(e,l)=>`Math.sin(${l})`).replace(/cos\(?(.+?)\)?/g,(e,l)=>`Math.cos(${l})`).replace(/tan\(?(.+?)\)?/g,(e,l)=>`Math.tan(${l})`).replace(/log\(?(.+?)\)?/g,(e,l)=>`Math.log10(${l})`).replace(/(\d+)\^(\d+)/g,(e,l,a)=>`Math.pow(${l},${a})`);input.value=eval(expr).toString()}catch{input.value="Erreur"}else input.value+=val}function handleKey(e){"0123456789+-*/().^".split("").includes(e.key)?input.value+=e.key:e.key==="Enter"?press("="):e.key==="Backspace"?input.value=input.value.slice(0,-1):(e.key==="c"||e.key==="C")&&press("C")}return onMounted(()=>{window.addEventListener("keydown",handleKey)}),onUnmounted(()=>{window.removeEventListener("keydown",handleKey)}),(e,l)=>(openBlock(),createBlock(QPage,{class:"q-pa-md flex flex-center"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,toDisplayString(input.value||"0"),1),createBaseVNode("div",_hoisted_3,[(openBlock(),createElementBlock(Fragment,null,renderList(buttons,a=>createVNode(QBtn,{key:a.label,label:a.label,color:a.color,flat:"",onClick:o=>press(a.label)},null,8,["label","color","onClick"])),64))])])]),_:1}))}}),CalculatorScientifist=_export_sfc(_sfc_main,[["__scopeId","data-v-f372f7f6"]]);export{CalculatorScientifist as default};
